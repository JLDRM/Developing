"use strict";var ModPedidos=function(o){var r;return{show:function(o){return Rx.Observable.fromPromise($.get("./dist/templates/mod_pedidos/pedidos.hbs","html").done(function(o){var t=Handlebars.compile(o);!function(){r=[];var o=Store.getUsuarios();console.log("pedidos:",Store.getPedidos()),Store.getPedidos().forEach(function(t,e){var n=Object.assign({},t);n.comprador=o.find(function(o){return t.comprador==o.uid}),r.push(n)})}(),$("#app").empty().append(t(r))}).then(function(o){return!0}))}}}(),Router=function(){var o="usuarios",r=null,t="";function e(e){switch(e){case"usuarios":r=ModUsuarios.show();break;case"pedidos":r=ModPedidos.show();break;default:r=ModUsuarios.show()}var n;return n=o=e,history.pushState({},"ruta:"+n,t+n),r}return{init:function(r){return t=""+window.location,e(o)},change:e}}(),Store=function(o){var r=[{uid:1,name:"Rosa",mail:"ros@r.cat"},{uid:2,name:"Pedro",mail:"pet@r.cat"},{uid:3,name:"Luisa",mail:"ly@r.cat"}],t=[{pid:1,comprador:2},{pid:2,comprador:1},{pid:3,comprador:1}];return{getUsuarios:function(){return r},getPedidos:function(){return t}}}(),ModUsuarios=function(o){return{show:function(o){return Rx.Observable.fromPromise($.get("./dist/templates/mod_usuarios/usuarios.hbs","html").done(function(o){var r=Handlebars.compile(o);$("#app").empty().append(r(Store.getUsuarios()))}).then(function(o){return!0}))}}}(),Utils=function(){return{loadmenus:function(){$("a[link]").click(function(o){o.preventDefault(),Router.change(this.getAttribute("link")).subscribe(function(o){return Utils.loadmenus()})})}}}();Router.init().subscribe(function(o){return Utils.loadmenus()});
//# sourceMappingURL=app.min.js.map