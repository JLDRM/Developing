{"version":3,"sources":["../../../src/modulos/mod_pedidos/mod_pedidos.js"],"names":["ModPedidos","argument","_lista_pedidos","renderPedido","Rx","Observable","fromPromise","$","get","done","cuerpo_plantilla","template","Handlebars","compile","_generateVM","empty","append","then","_usuarios","Store","getUsuarios","console","log","getPedidos","forEach","ped","index","newPed","Object","assign","comprador","find","user","uid","push","show"],"mappings":";;AAAA,IAAIA,aAAY,UAAUC,QAAV,EAAoB;AACnC,KAAIC,cAAJ;;AAEA,UAASC,YAAT,CAAuBF,QAAvB,EAAiC;AAChC,SAAOG,GAAGC,UAAH,CAAcC,WAAd,CACNC,EAAEC,GAAF,CAAM,0CAAN,EAAiD,MAAjD,EACCC,IADD,CACM,UAAUC,gBAAV,EAA4B;AACjC,OAAIC,WAASC,WAAWC,OAAX,CAAmBH,gBAAnB,CAAb;AACAI;AACAP,KAAE,MAAF,EAAUQ,KAAV,GAAkBC,MAAlB,CAAyBL,SAAST,cAAT,CAAzB;AACA,GALD,EAMCe,IAND,CAMM,aAAG;AAAC,UAAO,IAAP;AAAa,GANvB,CADM,CAAP;AASA;;AAED,UAASH,WAAT,GAAwB;AACvBZ,mBAAe,EAAf;AACA,MAAIgB,YAAUC,MAAMC,WAAN,EAAd;AACAC,UAAQC,GAAR,CAAY,UAAZ,EAAuBH,MAAMI,UAAN,EAAvB;AACAJ,QAAMI,UAAN,GAAmBC,OAAnB,CAA4B,UAASC,GAAT,EAAcC,KAAd,EAAqB;AAChD,OAAIC,SAAOC,OAAOC,MAAP,CAAc,EAAd,EAAkBJ,GAAlB,CAAX;AACAE,UAAOG,SAAP,GAAiBZ,UAAUa,IAAV,CAAe,gBAAM;AAAC,WAAQN,IAAIK,SAAJ,IAAeE,KAAKC,GAA5B;AAAkC,IAAxD,CAAjB;AACA/B,kBAAegC,IAAf,CAAoBP,MAApB;AACA,GAJD;AAKA;;AAED,QAAM;AACLQ,QAAKhC;AADA,EAAN;AAGA,CA7Bc,EAAf","file":"mod_pedidos.js","sourcesContent":["var ModPedidos=(function (argument) {\r\n\tvar _lista_pedidos;\r\n\r\n\tfunction renderPedido (argument) {\r\n\t\treturn Rx.Observable.fromPromise(\r\n\t\t\t$.get('./dist/templates/mod_pedidos/pedidos.hbs','html')\r\n\t\t\t.done(function (cuerpo_plantilla) {\r\n\t\t\t\tvar template=Handlebars.compile(cuerpo_plantilla);\r\n\t\t\t\t_generateVM();\r\n\t\t\t\t$('#app').empty().append(template(_lista_pedidos));\r\n\t\t\t})\r\n\t\t\t.then(d=>{return true;})\r\n\t\t);\r\n\t}\r\n\r\n\tfunction _generateVM () {\r\n\t\t_lista_pedidos=[];\r\n\t\tvar _usuarios=Store.getUsuarios();\r\n\t\tconsole.log('pedidos:',Store.getPedidos());\r\n\t\tStore.getPedidos().forEach( function(ped, index) {\r\n\t\t\tvar newPed=Object.assign({}, ped);\r\n\t\t\tnewPed.comprador=_usuarios.find(user=>{return (ped.comprador==user.uid);});\r\n\t\t\t_lista_pedidos.push(newPed);\r\n\t\t});\r\n\t}\r\n\r\n\treturn{\r\n\t\tshow:renderPedido\r\n\t};\r\n})();"]}